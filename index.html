<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–û—Ü—ñ–Ω–∫–∏ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ñ–≤ ‚Äî –•—É–¥–æ–∂–Ω—è –≥—ñ–º–Ω–∞—Å—Ç–∏–∫–∞</title>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background: radial-gradient(circle at top, #1a082b 0%, #0c0215 100%);
  color: #e3cfff;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
  text-align: center;
}

header {
  color: #fff;
  font-size: 2em;
  font-weight: 600;
  margin-bottom: 40px;
  text-shadow: 0 0 15px #c299ff;
  letter-spacing: 1px;
  animation: fadeIn 1.5s ease-in-out;
}

.scoreboard {
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(200, 150, 255, 0.4);
  border-radius: 15px;
  padding: 30px 50px;
  box-shadow: 0 0 30px rgba(160, 80, 255, 0.3);
  backdrop-filter: blur(10px);
  min-width: 60%;
}

.cell {
  font-size: 1.6em;
  color: #bb8fff;
  margin: 10px 0;
  font-weight: 600;
  opacity: 0;
  animation: fadeUp 1s ease-in-out forwards;
}

.decor {
  font-size: 2.2em;
  color: #ffd700;
  margin-bottom: 15px;
  animation: pulseStar 2s infinite ease-in-out;
}

footer {
  margin-top: 40px;
  color: #bdaaff;
  font-size: 0.9em;
  animation: fadeIn 2s ease-in-out;
}

@keyframes fadeUp {
  0% { transform: translateY(20px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulseStar {
  0%, 100% { transform: scale(1); text-shadow: 0 0 10px #ffd700; }
  50% { transform: scale(1.2); text-shadow: 0 0 25px #ffea8a; }
}

.error { color: #ff8ba7; font-size: 1.2em; margin-top: 20px; }

/* –ê–Ω—ñ–º–∞—Ü—ñ—è –∑–º—ñ–Ω–∏ –æ—Ü—ñ–Ω–∫–∏ */
.scoreChanged {
  animation: pulse 1s ease-in-out;
}

@keyframes pulse {
  0% { transform: scale(1); color: #bb8fff; text-shadow: 0 0 5px #bb8fff; }
  50% { transform: scale(1.3); color: #ff6fff; text-shadow: 0 0 20px #ff6fff; }
  100% { transform: scale(1); color: #bb8fff; text-shadow: 0 0 10px #bb8fff; }
}
</style>
</head>
<body>
<header>–û—Ñ—ñ—Ü—ñ–π–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–º–∞–≥–∞–Ω—å –∑ —Ö—É–¥–æ–∂–Ω—å–æ—ó –≥—ñ–º–Ω–∞—Å—Ç–∏–∫–∏</header>

<div class="scoreboard" id="scoreboard">
  <div class="decor">üëë</div>
  <div class="cell">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
</div>

<footer>¬© 2025 EstEvents by –ï–º–º–∞ –©–µ–ª–µ—Ü—å–∫–∞</footer>

<script>
const SHEET_ID = "1gBNHtvbDQ5welQn09qDcLFtVPMNwGL3OSI8zeC1pZN4";
const API_KEY = "AIzaSyACg5f9j-PcZzeQiG8lyQC1NAnNw7gcIwE";
const RANGE = "–õ–∏—Å—Ç1!A7:G7"; // 7-–π —Ä—è–¥–æ–∫, –∫–æ–ª–æ–Ω–∫–∏ A‚ÄìG

let oldRow = [];

async function loadData() {
  const scoreboard = document.getElementById("scoreboard");

  try {
    const url = `https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/${RANGE}?key=${API_KEY}`;
    const res = await fetch(url);
    const data = await res.json();

    if (!data.values || !data.values[0]) throw new Error("–î–∞–Ω—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ");

    const row = data.values[0];

    // –≥–∞—Ä–∞–Ω—Ç—É—î–º–æ, —â–æ –∑–∞–≤–∂–¥–∏ 7 –∫–æ–ª–æ–Ω–æ–∫
    const fullRow = Array.from({ length: 7 }, (_, i) => row[i] || "‚Äî");

    scoreboard.innerHTML = `<div class="decor">üëë</div>`; // –≤–µ—Ä—Ö–Ω—è ‚Äú–∫–æ—Ä–æ–Ω–∞‚Äù

    fullRow.forEach((cell, index) => {
      const div = document.createElement("div");
      div.className = "cell";
      div.textContent = cell;

      // —è–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–∏–ª–æ—Å—è ‚Äî –∞–Ω—ñ–º–∞—Ü—ñ—è
      if (oldRow[index] !== undefined && oldRow[index] !== cell) {
        div.classList.add("scoreChanged");
      }

      scoreboard.appendChild(div);
    });

    oldRow = fullRow;

  } catch (err) {
    scoreboard.innerHTML = `<div class="decor">üëë</div><div class="error">–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ üò¢<br>${err.message}</div>`;
    console.error(err);
  }
}

// –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 15 —Å–µ–∫—É–Ω–¥
loadData();
setInterval(loadData, 15000);
</script>
</body>
</html>
